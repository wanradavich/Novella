<main id="detail-main">
    <div class="page-path">
        <p><span id="root">Home</span><span>/</span><span id="current-path">Choker</span></p>
    </div>
    <div class="filter-container">
        <p class="filter-label">Filter by:</p>
        <div class="select-container">
            <select class="label-sm" id="productColor">
                <option value="#">Color</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
            </select>
        </div>
        <div class="select-container">
            <select id="productMaterial">
                <option value="#">Material</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
            </select>
        </div>
        <div class="select-container">
            <select class="label-sm" id="productPrice">
                <option value="#">Price</option>
                <option value="low"> < $100</option>
                <option value="medium"> < $300</option>
                <option value="high">Premium</option>
            </select>
        </div>
    </div>
    <div id="continue-shopping">
        <a href="@Url.Action("Index", "Home")">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5" />
            </svg> CONTINUE SHOPPING
        </a>
    </div>
    <div class="detail-container">
        <img id="detail-img" src="~/Images/categories/chains/chain1.jpeg" />
        <div id="detail-text">
            <p id="detail-title">@ViewBag.ProductName</p>
            <p id="detail-subtitle">@ViewBag.Description</p>
            <div class="detail-line"></div>
            <div id="detail-qty">
                <span>Quantity</span>
                <div class="qty-container">
                    <span id="minus">-</span>
                    <span id="productQty">1</span>
                    <span id="plus">+</span>
                </div>             
            </div>
          @*   <div id="detail-length">
                <span>Length</span>
                <span id="productLength">16 in</span>
            </div> *@
           @*  <p id="detail-length"></p> *@
            <button id="detail-add-button">
                <span id="detail-price">CDN $@ViewBag.Price</span>
                <span>Add to Bag</span>
            </button>
        </div>
    </div>
</main>

<script>
    // JavaScript for plus and minus buttons
    document.addEventListener('DOMContentLoaded', function () {
        var minusButton = document.getElementById('minus');
        var plusButton = document.getElementById('plus');
        var productQty = document.getElementById('productQty');
        var price = document.getElementById('detail-price');
        var cartAmount = document.getElementById('nav-cart-amount');

        // Retrieve the cart amount from session storage or default to 0
        var cartAmountValue = sessionStorage.getItem('cartAmount');
        if (cartAmountValue) {
            cartAmount.textContent = cartAmountValue;
        } else {
            cartAmount.textContent = '0';
        }

        // Parse the original price and remove "CDN $" from the text
        var originalPrice = parseFloat(price.textContent.replace('CDN $', ''));

        minusButton.addEventListener('click', function () {
            var qty = parseInt(productQty.textContent);
            if (qty > 1) {
                productQty.textContent = qty - 1;
                price.textContent = 'CDN $' + (originalPrice * (qty - 1)).toFixed(2);
                updateCartAmount(qty - 1);
            }
        });

        plusButton.addEventListener('click', function () {
            var qty = parseInt(productQty.textContent);
            productQty.textContent = qty + 1;
            price.textContent = 'CDN $' + (originalPrice * (qty + 1)).toFixed(2);
            updateCartAmount(qty + 1);
        });

        function updateCartAmount(quantity) {
            cartAmount.textContent = quantity;
            // Update session storage with the new cart amount
            sessionStorage.setItem('cartAmount', quantity);
        }
    });
</script>






